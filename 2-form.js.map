{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\n\nlet formData = {\n    email: \"\",\n    message: \"\",\n}\n\nconst savedData = localStorage.getItem(STORAGE_KEY);\n\nif (savedData) {\n    try {\n        const parsedData = JSON.parse(savedData);\n\n        formData.email = parsedData.email || \"\";\n        formData.message = parsedData.message || \"\";\n\n        form.elements.email.value = formData.email;\n        form.elements.message.value = formData.message;\n    } catch (error) {\n        console.log(\"Invalid data in localStorage, clearing:\", error);\n        localStorage.removeItem(STORAGE_KEY);\n    }\n}\n\nform.addEventListener(\"input\", handleInput);\n\nfunction handleInput(event) {\n    const field = event.target.name;\n    if (!(field in formData)) return;\n    const value = event.target.value.trim();\n\n    formData[field] = value;\n\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    if (!formData.email || !formData.message) {\n        alert('Заповніть дві форми');\n        return;\n    }\n\n    console.log(formData);\n    \n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n    formData = {\n        email: \"\",\n        message: \"\",\n    }\n}\n"],"names":["STORAGE_KEY","form","formData","savedData","parsedData","error","handleInput","event","field","value","handleSubmit"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAY,aAAa,QAAQH,CAAW,EAElD,GAAIG,EACA,GAAI,CACA,MAAMC,EAAa,KAAK,MAAMD,CAAS,EAEvCD,EAAS,MAAQE,EAAW,OAAS,GACrCF,EAAS,QAAUE,EAAW,SAAW,GAEzCH,EAAK,SAAS,MAAM,MAAQC,EAAS,MACrCD,EAAK,SAAS,QAAQ,MAAQC,EAAS,OAC1C,OAAQG,EAAO,CACZ,QAAQ,IAAI,0CAA2CA,CAAK,EAC5D,aAAa,WAAWL,CAAW,CACtC,CAGLC,EAAK,iBAAiB,QAASK,CAAW,EAE1C,SAASA,EAAYC,EAAO,CACxB,MAAMC,EAAQD,EAAM,OAAO,KAC3B,GAAI,EAAEC,KAASN,GAAW,OAC1B,MAAMO,EAAQF,EAAM,OAAO,MAAM,KAAI,EAErCL,EAASM,CAAK,EAAIC,EAElB,aAAa,QAAQT,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC9D,CAEAD,EAAK,iBAAiB,SAAUS,CAAY,EAE5C,SAASA,EAAaH,EAAO,CAGzB,GAFAA,EAAM,eAAc,EAEhB,CAACL,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,qBAAqB,EAC3B,MACH,CAED,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWF,CAAW,EACnCC,EAAK,MAAK,EACVC,EAAW,CACP,MAAO,GACP,QAAS,EACZ,CACL"}